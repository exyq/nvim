# Vim编辑

### Insert mode
| 指令 | 性质 | 释义 | 限用模式 |
| :--: | :--: | :-- | :--: |
| i  I  gI  a  A | O | 在当前 行首 非空行首 后面 最后进入Insert | N |
| o  O | O | 在下面 上面新建一行插入 | N |

### Change Insert mode
| c3w  c3l | ONM | 改写(删除)后面三个词 后面三个字符并插入 | N |
| :--: | :--: | :-- | :--: |
| 3cc  3s  3S | NO | 改写当前3行 后面三个字符 下面3行 | N |

### Copy Cut Paste
| y  d  p  x | O | 复制 剪切 粘贴 删除(剪切) | NV |
| :--: | :--: | :-- | :--: |
| 3x  3X | NO | 删除光标右边3个 左边三个字符 | N |
| yy  Y  dd | OO | 复制 同yy 剪切整行 | N |
| 2yy  2Y  2dd | NOO | 复制 同yy 剪切2行 | N |
| p  P | O | 在后面 前面粘贴 | N |

### 文本对象
- aw 一个词
- as 一句
- ap 一段
- ab 一个语句块
*y d c Visual 都可以与文本对象组合*

### Repate Visual mode
- v *N* 进入Visual
- V *N* 进入Visual line
- C-v *N* 进入Visual block
- r *N* 进入Repate 可替换一个字符
- R *N* 进入Repate 可一直替换字符

### LastLine
- Normal下输入**:**进入LastLine
- C-w 向前删除一词
- C-h 向前删除一字符
- C-u 删除至**:**
- C-b 移至开头
- C-e 移至末尾
- C-Left 左移一词
- C-Right 右移一词
- @ 重复上条指令
- q 退出
- w 保存
- a 全部 与q w搭配使用
##### 执行外部命令
- ! ***Command*** 执行外部命令
- !! 执行上条指令
- sh 调用shell
- r ! ***Command*** 将命令返回的结果插入当前位置
- 1,2w !cmd 将1到2行之间内容作为指令内容

### 寄存器
- 可将内容存入其中并取用
- a-z作为寄存器名称, 若重复使用为覆盖
- A-Z可将内容追加至a-z寄存器中
- :reg 显示所有寄存器中内容
- " 作为寄存器标识符, 例如: "ayy 为将本行存入寄存器a中; "ap 将寄存器a中内容粘贴至后方
- "+ 为引用系统剪贴板, 例如: "+yy 将本行内容添加至系统剪贴板

### 宏
- . 最基本的宏, 重复上一个动作
- a-zA-Z都可以作为宏名称
- qa 开始录制宏a
- q 在录制完宏后表示录制完毕
- @a 播放宏a

### 查找与替换
##### 查找
- 在普通模式下使用**/**作为搜索光标后方指令, 如:/find 在文中搜索后方所有的find
- ***?***作为搜索光标前方指令
- 使用n N来进行查找后的移动
- 使用查找后如需关闭高亮, 可使用:nohls来关闭
##### 替换
- 在命令行模式下进行操作
- s/old/new 用new替换当前行第一个old
- s/old/new/g 用new替换当前行所有old
- 1,2s/old/new/g 用new替换第一行到第二行之间所有的old
- 所有替换命令末尾使用c时, 每个替换都需用户确认; 如:%s/old/new/gc
###### 替换标识符
- 为了使替换更灵活需使用替换标识符(Range):m,n 0 $ . %
- 格式为***Range***s/old/new/g
- 不添加range表当前行
- . 当前行
- % 所有行
- 1,2 第一行到第二行
- 0 首行
- $ 末行
##### 正则表达式
- 进阶的查找替换需要使用正则表达式(格式化搜索)
- \d 十进制数
- \s 空格
- \S 非空字符
- \a 英文字符
- \| 或
- \. .
